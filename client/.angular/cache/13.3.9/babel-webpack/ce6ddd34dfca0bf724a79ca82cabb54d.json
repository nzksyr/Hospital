{"ast":null,"code":"import { MatDialog } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { CommunicationService } from 'src/app/services/communication.service';\nimport { ConfirmationDialogComponent } from '../confirmation-dialog/confirmation-dialog.component';\nimport { ModifyFormComponent } from '../modify-form/modify-form.component';\nimport { AddFormComponent } from '../add-form/add-form.component';\nimport { DialogComponent } from '../dialog/dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/communication.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../navbar/navbar.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\n\nfunction DoctorComponent_tr_23_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const key_r6 = ctx.$implicit;\n    const d_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(d_r4[key_r6]);\n  }\n}\n\nfunction DoctorComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 5);\n    i0.ɵɵtemplate(1, DoctorComponent_tr_23_td_1_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementStart(2, \"td\")(3, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function DoctorComponent_tr_23_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const d_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      ctx_r8.selectDoctor(d_r4);\n      return ctx_r8.openModifyForm();\n    });\n    i0.ɵɵelementStart(4, \"mat-icon\");\n    i0.ɵɵtext(5, \"find_replace\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function DoctorComponent_tr_23_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const d_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      ctx_r10.selectDoctor(d_r4);\n      return ctx_r10.openConfirmationDialog();\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const d_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"selected\", ctx_r0.selectedDoctor === d_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getObjectKeys(d_r4));\n  }\n}\n\nfunction DoctorComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"table\")(2, \"tr\")(3, \"td\")(4, \"p\");\n    i0.ɵɵtext(5, \" Aucun m\\u00E9decin dans la base de donn\\u00E9es. \");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\n\nfunction DoctorComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function DoctorComponent_button_25_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.openAddForm();\n    });\n    i0.ɵɵtext(1, \"Ajouter un m\\u00E9decin \");\n    i0.ɵɵelementStart(2, \"mat-icon\", 10);\n    i0.ɵɵtext(3, \"add\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction DoctorComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DoctorComponent_button_26_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.openAddForm();\n    });\n    i0.ɵɵtext(1, \"Ajouter un m\\u00E9decin \");\n    i0.ɵɵelementStart(2, \"mat-icon\", 10);\n    i0.ɵɵtext(3, \"add\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let DoctorComponent = /*#__PURE__*/(() => {\n  class DoctorComponent {\n    constructor(communication, dialog) {\n      this.communication = communication;\n      this.dialog = dialog;\n      this.doctors = [];\n      this.dialogOpen = false;\n      this.dataSource = new MatTableDataSource(this.doctors);\n    }\n\n    ngOnInit() {\n      this.communication.getAllDoctors().subscribe({\n        next: docs => {\n          this.doctors = docs;\n          this.max = this.doctors.length;\n        }\n      });\n    }\n\n    selectDoctor(row) {\n      this.selectedDoctor = row;\n    }\n\n    openConfirmationDialog() {\n      const dialogRef = this.dialog.open(ConfirmationDialogComponent, {\n        disableClose: true,\n        data: this.selectedDoctor\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        const dialogRefSec = this.dialog.open(DialogComponent, {\n          disableClose: true,\n          data: {\n            title: 'Confirmation',\n            message: \"Le médecin a été supprimé avec succès !\"\n          }\n        });\n        dialogRefSec.afterClosed().subscribe(result => {\n          this.communication.getAllDoctors().subscribe({\n            next: docs => {\n              this.doctors = docs;\n              this.max = this.doctors.length;\n            }\n          });\n        });\n      });\n    }\n\n    openModifyForm() {\n      this.dialog.open(ModifyFormComponent, {\n        disableClose: true,\n        data: this.selectedDoctor\n      });\n    }\n\n    openAddForm() {\n      this.dialog.open(AddFormComponent, {\n        disableClose: true,\n        data: this.max\n      });\n    }\n\n    getObjectKeys(obj) {\n      return Object.keys(obj);\n    }\n\n  }\n\n  DoctorComponent.ɵfac = function DoctorComponent_Factory(t) {\n    return new (t || DoctorComponent)(i0.ɵɵdirectiveInject(i1.CommunicationService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  DoctorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DoctorComponent,\n    selectors: [[\"app-doctors\"]],\n    decls: 27,\n    vars: 4,\n    consts: [[\"id\", \"doctor-container\"], [\"class\", \"grid-item\", 3, \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"empty\", 4, \"ngIf\"], [\"id\", \"add-button\", \"class\", \"none\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"add-button\", \"class\", \"full\", 3, \"click\", 4, \"ngIf\"], [1, \"grid-item\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"id\", \"empty\"], [\"id\", \"add-button\", 1, \"none\", 3, \"click\"], [\"id\", \"plus\"], [\"id\", \"add-button\", 1, \"full\", 3, \"click\"]],\n    template: function DoctorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵelement(1, \"app-navbar\");\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n        i0.ɵɵtext(7, \"Identifiant\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Pr\\u00E9nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\");\n        i0.ɵɵtext(13, \"Sp\\u00E9cialit\\u00E9\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\");\n        i0.ɵɵtext(15, \"Ann\\u00E9es d'exp\\u00E9rience\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Identifiant du service\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"Modifier\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"Supprimer\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"tbody\");\n        i0.ɵɵtemplate(23, DoctorComponent_tr_23_Template, 10, 3, \"tr\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(24, DoctorComponent_div_24_Template, 6, 0, \"div\", 2);\n        i0.ɵɵtemplate(25, DoctorComponent_button_25_Template, 4, 0, \"button\", 3);\n        i0.ɵɵtemplate(26, DoctorComponent_button_26_Template, 4, 0, \"button\", 4);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngForOf\", ctx.doctors);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.doctors.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.doctors.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.doctors.length !== 0);\n      }\n    },\n    directives: [i3.NavbarComponent, i4.NgForOf, i5.MatIcon, i4.NgIf],\n    styles: [\"#doctor-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}table[_ngcontent-%COMP%]{width:80%;border:1px #ccc;border-radius:20px;background-color:#f2f2f2;text-align:center;margin-top:20px;box-shadow:0 0 20px #00000026}tr[_ngcontent-%COMP%]{border-radius:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px 1px 0px 0px solid #ccc;padding:5px}th[_ngcontent-%COMP%]{background-color:#eee}button[_ngcontent-%COMP%]{border:none}button[_ngcontent-%COMP%]:hover{color:#87ceeb}#add-button[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:5px;background-color:#f2f2f2;box-shadow:0 0 20px #00000026;margin-top:3%;margin-bottom:2%;padding:10px}.full[_ngcontent-%COMP%]{margin-left:4%}.none[_ngcontent-%COMP%]{margin-left:-2.5%}#plus[_ngcontent-%COMP%]{margin-left:4px}#empty[_ngcontent-%COMP%]{margin-left:1%;margin-top:2%}\"]\n  });\n  return DoctorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}